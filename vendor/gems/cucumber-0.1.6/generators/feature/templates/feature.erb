Feature: Manage <%= plural_name %>
  In order to keep track of <%= plural_name %>
  A <%= singular_name %> mechanic
  Should be able to manage several <%= plural_name %>
  
  Scenario: Register new <%= singular_name %>
    Given I am on the new <%= singular_name %> page
<% keyword = 'When' -%>
<% args.each do |arg| -%>
    <%= keyword %> I fill in "<%= arg.humanize %>" with "My <%= singular_name %> <%= arg %>"
<% keyword = 'And' -%>
<% end -%>
    And I press "Create"
<% keyword = 'Then' -%>
<% args.each do |arg| -%>
    <%= keyword %> I should see "My <%= singular_name %> <%= arg %>"
<% keyword = 'And' -%>
<% end -%>

  Scenario: Delete <%= singular_name %>
    Given there are 4 <%= plural_name %>
    When I delete the first <%= singular_name %>
    Then there should be 3 <%= plural_name %> left
    
    | initial | after |
    | 100     | 99    |
    | 1       | 0     |